webpackJsonp([12],{"+skl":function(e,t){},"5PoX":function(e,t,n){var i=n("zNUS"),o={userThemeList:{"title|6":"&",description:"&",pages:"&",type:"&",canvasHeight:"&"}};o.themeList={"list|3-13":[{userId:"@id",title:"@ctitle(4, 8)",description:"@cparagraph(1, 3)",type:'@pick(["h5", ""])',canvasHeight:504,themebg:'@image("200x200", "@color", "@first")',status:0,createTime:"@datetime",saveTime:"@now",buildTime:"@now","pages|6-20":[{"id|+1":1,type:"pic",imgSrc:i.Random.image("600x600","@color","@first"),"left|1-100.1-10":0,"top|1-100.1-10":0,"width|1-100.1-10":0,"height|1-100.1-10":0,"lineHeight|12-46":0,animatedName:"","duration|2":1,"delay|2":0,playing:!1,loop:!1,"opacity|100":100,"transform|5":0,text:"@first","textAlign|":"left",iconKey:"",bg:"","fontSize|16":18,fontFamily:"微软雅黑",fontWeight:"normal",color:"#000000",zindex:1}]}]},e.exports=o},AmOA:function(e,t){},"Du/2":function(e,t,n){"use strict";n.d(t,"E",function(){return i}),n.d(t,"H",function(){return o}),n.d(t,"F",function(){return r}),n.d(t,"I",function(){return s}),n.d(t,"G",function(){return a}),n.d(t,"g",function(){return c}),n.d(t,"J",function(){return u}),n.d(t,"w",function(){return l}),n.d(t,"s",function(){return d}),n.d(t,"v",function(){return f}),n.d(t,"u",function(){return h}),n.d(t,"t",function(){return m}),n.d(t,"k",function(){return p}),n.d(t,"c",function(){return g}),n.d(t,"x",function(){return v}),n.d(t,"B",function(){return y}),n.d(t,"a",function(){return E}),n.d(t,"D",function(){return _}),n.d(t,"l",function(){return b}),n.d(t,"f",function(){return T}),n.d(t,"i",function(){return C}),n.d(t,"e",function(){return x}),n.d(t,"z",function(){return w}),n.d(t,"m",function(){return I}),n.d(t,"n",function(){return L}),n.d(t,"r",function(){return S}),n.d(t,"q",function(){return P}),n.d(t,"p",function(){return A}),n.d(t,"o",function(){return U}),n.d(t,"h",function(){return D}),n.d(t,"d",function(){return N}),n.d(t,"y",function(){return M}),n.d(t,"C",function(){return F}),n.d(t,"A",function(){return H}),n.d(t,"b",function(){return O}),n.d(t,"j",function(){return B});var i="getvarifycode",o="login",r="logout",s="register",a="getuserinfo",c="CREATE_THEME",u="USE_CREATE_THEME",l="getUser_Theme_List",d="getHome_Theme_List",f="GET_USER_IMG_LIST",h="GET_THEME_IMG_LIST",m="GET_PUBLIC_IMG_LIST",p="DEL_DELTE_IMG",g="ADD_UPLOAD_IMG",v="IMG_CLAER_DATA",y="SET_CUR_EDITOR_THEME",E="ADD_PAGE",_="UP_PAGE",b="DOWN_PAGE",T="COPY_PAGE",C="DELETE_PAGE",x="CLEAR_EDIT_THEME",w="SET_CUR_EDITOR_ELEMENT",I="ELE_ADD_TEXT",L="ELE_COPY_ELEMENT",S="ELE_CUR_UP_TOP",P="ELE_CUR_UP_ONE",A="ELE_CUR_DOWN_TOP",U="ELE_CUR_DOWN_ONE",D="DELETE_ELEMENT",N="CLEAR_CUR_ELEMENT",M="PLAY_ANIMATE",F="STOP_ANIMATE",H="SET_CUR_EDITOR_PAGE",O="ADD_THEME_SUCCESS",B="DELETE_THEME"},J8c6:function(e,t,n){"use strict";var i=n("woOf"),o=n.n(i),r=n("bOdI"),s=n.n(r),a={components:{RenderCell:n("DrSj").a},props:{prefixCls:{type:String,default:""},duration:{type:Number,default:1.5},type:{type:String},content:{type:String,default:""},withIcon:Boolean,render:{type:Function},hasTitle:Boolean,styles:{type:Object,default:function(){return{right:"50%"}}},closable:{type:Boolean,default:!1},className:{type:String},name:{type:String,required:!0},onClose:{type:Function},transitionName:{type:String}},data:function(){return{withDesc:!1}},computed:{baseClass:function(){return this.prefixCls+"-notice"},renderFunc:function(){return this.render||function(){}},classes:function(){var e;return[this.baseClass,(e={},s()(e,""+this.className,!!this.className),s()(e,this.baseClass+"-closable",this.closable),s()(e,this.baseClass+"-with-desc",this.withDesc),e)]},contentClasses:function(){return[this.baseClass+"-content",void 0!==this.render?this.baseClass+"-content-with-render":""]},contentWithIcon:function(){return[this.withIcon?this.prefixCls+"-content-with-icon":"",!this.hasTitle&&this.withIcon?this.prefixCls+"-content-with-render-notitle":""]},messageClasses:function(){return[this.baseClass+"-content",void 0!==this.render?this.baseClass+"-content-with-render":""]}},methods:{clearCloseTimer:function(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)},close:function(){this.clearCloseTimer(),this.onClose(),this.$parent.close(this.name)},handleEnter:function(e){"message"===this.type&&(e.style.height=e.scrollHeight+"px")},handleLeave:function(e){"message"===this.type&&1!==document.getElementsByClassName("ivu-message-notice").length&&(e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)}},mounted:function(){var e=this;if(this.clearCloseTimer(),0!==this.duration&&(this.closeTimer=setTimeout(function(){e.close()},1e3*this.duration)),"ivu-notice"===this.prefixCls){var t=this.$refs.content.querySelectorAll("."+this.prefixCls+"-desc")[0];this.withDesc=!!this.render||!!t&&""!==t.innerHTML}},beforeDestroy:function(){this.clearCloseTimer()}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:e.transitionName},on:{enter:e.handleEnter,leave:e.handleLeave}},[n("div",{class:e.classes,style:e.styles},["notice"===e.type?[n("div",{ref:"content",class:e.contentClasses,domProps:{innerHTML:e._s(e.content)}}),e._v(" "),n("div",{class:e.contentWithIcon},[n("render-cell",{attrs:{render:e.renderFunc}})],1),e._v(" "),e.closable?n("a",{class:[e.baseClass+"-close"],on:{click:e.close}},[n("i",{staticClass:"ivu-icon ivu-icon-ios-close-empty"})]):e._e()]:e._e(),e._v(" "),"message"===e.type?[n("div",{ref:"content",class:[e.baseClass+"-content"]},[n("div",{class:[e.baseClass+"-content-text"],domProps:{innerHTML:e._s(e.content)}}),e._v(" "),n("div",{class:[e.baseClass+"-content-text"]},[n("render-cell",{attrs:{render:e.renderFunc}})],1),e._v(" "),e.closable?n("a",{class:[e.baseClass+"-close"],on:{click:e.close}},[n("i",{staticClass:"ivu-icon ivu-icon-ios-close-empty"})]):e._e()])]:e._e()],2)])},staticRenderFns:[]},u=n("VU/8")(a,c,!1,null,null,null).exports,l=0,d=Date.now();var f={components:{Notice:u},props:{prefixCls:{type:String,default:"ivu-notification"},styles:{type:Object,default:function(){return{top:"65px",left:"50%"}}},content:{type:String},className:{type:String}},data:function(){return{notices:[]}},computed:{classes:function(){return[""+this.prefixCls,s()({},""+this.className,!!this.className)]}},methods:{add:function(e){var t=e.name||"ivuNotification_"+d+"_"+l++,n=o()({styles:{right:"50%"},content:"",duration:1.5,closable:!1,name:t},e);this.notices.push(n)},close:function(e){for(var t=this.notices,n=0;n<t.length;n++)if(t[n].name===e){this.notices.splice(n,1);break}},closeAll:function(){this.notices=[]}}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes,style:e.styles},e._l(e.notices,function(t){return n("Notice",{key:t.name,attrs:{"prefix-cls":e.prefixCls,styles:t.styles,type:t.type,content:t.content,duration:t.duration,render:t.render,"has-title":t.hasTitle,withIcon:t.withIcon,closable:t.closable,name:t.name,"transition-name":t.transitionName,"on-close":t.onClose}})}))},staticRenderFns:[]},m=n("VU/8")(f,h,!1,null,null,null);t.a=m.exports},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")({name:"App",created:function(){this.$store.dispatch("getUserInfo")}},o,!1,function(e){n("gytF")},null,null).exports,s=n("BTaQ"),a=n.n(s),c=n("/ocq"),u=[{path:"/",meta:{title:"首页"},component:function(e){return n.e(10).then(function(){var t=[n("2Ixv")];e.apply(null,t)}.bind(this)).catch(n.oe)},children:[{path:"/",name:"首页-home",meta:{title:"首页推荐"},component:function(e){return Promise.all([n.e(0),n.e(5)]).then(function(){var t=[n("0y+i")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/usertheme",name:"个人作品-home",meta:{title:"个人作品",userAuth:!0},component:function(e){return Promise.all([n.e(0),n.e(7)]).then(function(){var t=[n("v6Vf")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/about",name:"关于页面",meta:{title:"关于h5编辑器"},component:function(e){return n.e(4).then(function(){var t=[n("n8cu")];e.apply(null,t)}.bind(this)).catch(n.oe)}}]},{path:"/login",meta:{title:"用户登录"},name:"userLogin",component:function(e){return n.e(2).then(function(){var t=[n("4fyo")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/regist",meta:{title:"用户注册"},name:"userRegist",component:function(e){return n.e(1).then(function(){var t=[n("NxGp")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/edit",meta:{title:"编辑",userAuth:!0},name:"editing",component:function(e){return Promise.all([n.e(0),n.e(3)]).then(function(){var t=[n("4Kxo")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/403",meta:{title:"403-权限不足"},name:"error-403",component:function(e){return n.e(9).then(function(){var t=[n("60BF")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/500",meta:{title:"500-服务端错误"},name:"error-500",component:function(e){return n.e(6).then(function(){var t=[n("bdPn")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/*",name:"error-404",meta:{title:"404-页面不存在"},component:function(e){return n.e(8).then(function(){var t=[n("dN+j")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"*",redirect:"/"}],l=n("oFuF"),d=n.n(l);i.default.use(a.a),i.default.use(c.a);var f={mode:"history",routes:u},h=new c.a(f);h.beforeEach(function(e,t,n){a.a.LoadingBar.start(),d.a.title(e.meta.title),n()}),h.beforeEach(function(e,t,n){var i=window.localStorage.getItem("userInfo");console.log("是否需要登录："+e.matched.some(function(e){return e.meta.userAuth})),e.matched.some(function(e){return e.meta.userAuth})?i?n():n({path:"/login",query:{redirect:e.fullPath}}):n()}),h.beforeEach(function(e,t,n){"/edit"===e.path?e.query.itemId?n():n("/"):n()}),h.afterEach(function(e,t,n){a.a.LoadingBar.finish()});var m=h,p=n("mtWM"),g=n.n(p),v=n("NYxO"),y=n("bOdI"),E=n.n(y),_=n("Dd8w"),b=n.n(_),T=n("mvHQ"),C=n.n(T),x=n("Gu7T"),w=n.n(x),I=n("2aIq"),L=n.n(I),S=n("//Fk"),P=n.n(S),A=n("Du/2"),U=n("T452");g.a.defaults.withCredentials=!0;var D="http://localhost:3000";D=U.a;var N,M,F=function(e,t){var n=void 0;return n=t?""+D+e+"?"+t:""+D+e,console.log("client: url: "+n),g.a.get(n).then(function(e){if(e.status>=200&&e.status<300)return e.data}).catch(function(e){return B(e),P.a.reject(e)})},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=""+D+e;return g.a.post(n,t).then(function(e){if(e.status>=200&&e.status<300)return e.data}).catch(function(e){return B(e),P.a.reject(e)})},O=function(e,t){var n=""+D+e+"/"+t;return g.a.delete(n).then(function(e){if(e.status>=200&&e.status<300)return e.data}).catch(function(e){return B(e),P.a.reject(e)})},B=function(e){401===e.status&&console.error(e)},R=n("P9l9"),z=function(e){return t="/api/edit/pages/"+e._id,n=e,i=""+D+t,g.a.put(i,n).then(function(e){if(e.status>=200&&e.status<300)return e.data}).catch(function(e){return B(e),P.a.reject(e)});var t,n,i},G=n("Zrlr"),k=n.n(G),j=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k()(this,e),this.userId=t.userId||"",this.title=t.title||"标题",this.description=t.description||"描述",this.pages=t.pages||[],this.type=t.type||"h5",this.canvasHeight=t.canvasHeight||504,this.bgMusic=t.bgMusic||"",this.themebg=t.themebg||"upload/all/img_default.png",this.status=t.status||"0",this.useCount=t.useCount||0},W=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k()(this,e),this.elements=t.elements||[],this.bg=t.bg||{img:"",color:"rgb(255, 255, 255)"}},$=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k()(this,e),this.type=t.type||"pic",this.imgSrc=t.imgSrc||"",this.left=t.left||0,this.top=t.top||0,this.width=t.width||0,this.height=t.height||0,this.lineHeight=t.lineHeight||0,this.animatedName=t.animatedName||"",this.duration=t.duration||1,this.delay=t.delay||0,this.playing=!1,this.loop=!1,this.count=0,this.opacity=t.opacity||100,this.transform=t.transform||0,this.text=t.text||"请输入文字",this.textAlign=t.textAlign||"left",this.iconKey=t.iconKey||"",this.bg=t.bg||"",this.fontSize=t.fontSize||18,this.fontFamily=t.fontFamily||"微软雅黑",this.fontWeight=t.fontWeight||"normal",this.color=t.color||"rgb(00, 00, 00)",this.zindex=t.zindex||1,this.borderStyle=t.borderStyle||"",this.borderWidth=t.borderWidth||3,this.borderColor=t.borderColor||"rgb(00, 00, 00)",this.borderRadius=t.borderRadius||0,this.boxShadow_h=t.boxShadow_h||0,this.boxShadow_v=t.boxShadow_v||0,this.boxShadow_sp=t.boxShadow_sp||0,this.boxShadow_color=t.boxShadow_color||"rgba(00, 00, 00, 0.5)",this.bgColor=t.bgColor||"rgba(00, 00, 00, 00)"},q={state:{isLogin:!1,homeThemeList:[],themeList:[],isShowThemeedit:!1,editorElement:{},editorPage:{elements:[]},editorTheme:{title:"",description:"",canvasHeight:504},userUpimg_List:{count:0,data:[]},themeUpimg_List:{count:0,data:[]},publicUpimg_List:{count:0,data:[]}},getters:{getHomeThemeList:function(e){return e.homeThemeList},getUserThemeList:function(e){return e.themeList}},actions:{saveTheme:function(e,t){var n=e.commit;return t&&t.userId?(console.log("更新内容"),P.a.resolve(z(t).then(function(e){}))):(console.log("保存内容"),P.a.resolve(function(e){return H("/api/edit/pages",e)}(t).then(function(e){n(A.b,e.body)})))},useTheme:function(e,t){var n;L()(e),(n=t._id,F("/api/edit/usetheme/"+n)).then(function(e){})},pageFindOne:function(e,t){var n=e.commit;if(t)return new P.a(function(e,i){var o;(o=t,F("/api/edit/pages/"+o)).then(function(t){0===t.code?(n(A.B,t.body),e()):i()})})},getHomeThemeList:function(e){var t=e.commit;F("/api/edit/page/build").then(function(e){t(A.s,e.body)})},getUserThemeList:function(e,t){var n=e.commit;(function(e){return F("/api/edit/pages?userid="+e)})(t).then(function(e){n(A.w,e.body)})},userDeleteTheme:function(e,t){var n,i=e.commit;return P.a.resolve((n=t._id,O("/api/edit/pages",n)).then(function(){i(A.j,t)}))},userUpimg_List:function(e,t){var n=this,i=e.commit;e.state;return new P.a(function(e,o){(function(e,t){return F("/api/edit/files/user/img?userid="+e+"&pageSize="+t.pageSize+"&pageIndex="+t.pageIndex+"&time="+Date.now())})(n.state.user.userinfo._id,t).then(function(t){0===t.code?(i(A.v,t.body),e()):o()})})},themeUpimg_List:function(e,t){var n=e.commit,i=e.state.editorTheme._id;if(i)return new P.a(function(e,o){(function(e,t){return F("/api/edit/files/user/img?themeid="+e+"&pageSize="+t.pageSize+"&pageIndex="+t.pageIndex+"&time="+Date.now())})(i,t).then(function(t){0===t.code?(n(A.u,t.body),e()):o()})})},publicUpimg_List:function(e,t){var n=e.commit;return new P.a(function(e,i){(function(e){return F("/api/edit/files/uploads?pageSize="+e.pageSize+"&pageIndex="+e.pageIndex+"&time="+Date.now())})(t).then(function(t){0===t.code?(n(A.t,t.body),e()):i()})})},deleteImg:function(e,t){e.commit;return new P.a(function(e,n){(function(e){return O("/api/edit/files/upload",e)})(t).then(function(t){0===t.code?e():n()})})}},mutations:(N={},E()(N,A.g,function(e,t){var n=new j({title:t.title,description:t.des,themebg:"upload/all/img_default.png"});e.themeList.push(n),this.commit(A.B,n)}),E()(N,A.J,function(e,t){var n=new j;n.title=t.title+"_模板",n.bgMusic=t.bgMusic,n.themebg=t.themebg,n.type=t.type,n.pages=t.pages,e.themeList.push(n),this.commit(A.B,n)}),E()(N,A.j,function(e,t){e.themeList.findIndex(function(n,i){n===t&&e.themeList.splice(i,1)})}),E()(N,A.b,function(e,t){e.editorTheme._id=t._id}),E()(N,A.a,function(e){var t=new W;t.name=e.editorTheme.pages.length+1,e.editorTheme.pages.push(t)}),E()(N,A.D,function(e,t){var n,i=t,o=t-1;(n=e.editorTheme.pages).splice.apply(n,[i,1].concat(w()(e.editorTheme.pages.splice(o,1,e.editorTheme.pages[i]))))}),E()(N,A.l,function(e,t){var n,i=t,o=t+1;(n=e.editorTheme.pages).splice.apply(n,[i,1].concat(w()(e.editorTheme.pages.splice(o,1,e.editorTheme.pages[i]))))}),E()(N,A.f,function(e,t){var n=this;e.editorTheme.pages.findIndex(function(i,o){if(i===t.data){var r=JSON.parse(C()(t.data));e.editorTheme.pages.splice(o+1,0,r),t.this.$nextTick(function(){n.commit(A.A,r)})}})}),E()(N,A.i,function(e,t){e.editorTheme.pages.findIndex(function(n,i,o){n===t&&e.editorTheme.pages.splice(i,1)})}),E()(N,A.B,function(e,t){e.editorTheme=t,e.editorPage=e.editorTheme.pages[0]}),E()(N,A.A,function(e,t){e.editorPage=t}),E()(N,A.e,function(e){e.editorTheme={},e.editorPage={},e.editorElement={}}),E()(N,A.m,function(e,t){var n=new $(t);e.editorElement=n,e.editorPage.elements.push(n);var i=e.editorPage.elements,o=e.editorPage.elements.length-1;i[o].zindex=o?i[o-1].zindex+1:1}),E()(N,A.n,function(e){if(e.editorElement){var t=b()({},e.editorElement);t.left=t.left+6,t.top=t.top+6,this.commit(A.m,t)}else console.log("当前元素为空")}),E()(N,A.h,function(e){e.editorElement&&e.editorPage.elements.findIndex(function(t,n){t===e.editorElement&&(e.editorPage.elements.splice(n,1),e.editorElement=null)})}),E()(N,A.r,function(e){var t=e.editorPage.elements,n=null;t.findIndex(function(t,i){t===e.editorElement&&(n=i)});var i=t.length-1;t.splice.apply(t,[n,1].concat(w()(t.splice(i,1,t[n]))));for(var o=0;o<t.length;o++)t[o].zindex=o+1}),E()(N,A.q,function(e){var t=e.editorPage.elements,n=null;t.findIndex(function(t,i){t===e.editorElement&&(n=i)});var i=n+1;t.splice.apply(t,[n,1].concat(w()(t.splice(i,1,t[n]))));for(var o=0;o<t.length;o++)t[o].zindex=o+1}),E()(N,A.p,function(e){var t=e.editorPage.elements,n=null;t.findIndex(function(t,i){t===e.editorElement&&(n=i)});t.splice.apply(t,[n,1].concat(w()(t.splice(0,1,t[n]))));for(var i=0;i<t.length;i++)t[i].zindex=i+1}),E()(N,A.o,function(e){var t=e.editorPage.elements,n=null;if(t.findIndex(function(t,i){t===e.editorElement&&(n=i)}),0!==n){var i=n-1;t.splice.apply(t,[n,1].concat(w()(t.splice(i,1,t[n]))));for(var o=0;o<t.length;o++)t[o].zindex=o+1}}),E()(N,A.z,function(e,t){e.editorElement=t}),E()(N,A.d,function(e){e.editorElement=null}),E()(N,A.s,function(e,t){e.homeThemeList=t}),E()(N,A.w,function(e,t){e.themeList=t}),E()(N,A.v,function(e,t){e.userUpimg_List.count=t.count,e.userUpimg_List.data[t.index]=t.data.reverse()}),E()(N,A.u,function(e,t){e.themeUpimg_List.count=t.count,e.themeUpimg_List.data[t.index]=t.data.reverse()}),E()(N,A.t,function(e,t){e.publicUpimg_List.count=t.count,e.publicUpimg_List.data[t.index]=t.data.reverse()}),E()(N,A.k,function(e,t){e[t].count--,e[t].data=[]}),E()(N,A.c,function(e,t){e[t].count++,e[t].data=[]}),E()(N,A.x,function(e,t){e[t].count=0,e[t].data=[]}),E()(N,A.y,function(e){var t=this,n=e.editorPage.elements,i=e.editorElement;i&&i.animatedName?i.playing=!0:i||n.forEach(function(e){e.playing=!0});var o=e.editorElement||e.editorPage.elements||null,r=0;o instanceof Array?o.forEach(function(e){r=e.animatedName&&e.duration+e.delay>r?e.duration+e.delay:r}):o instanceof Object&&(r=o.duration+o.delay),setTimeout(function(){t.commit(A.C,o)},1e3*r)}),E()(N,A.C,function(e,t){t instanceof Array?t.forEach(function(e){e.playing=!1}):t instanceof Object?t.playing=!1:e.editorPage.elements.forEach(function(e){e.playing=!1})}),N)},K={state:{isLogin:!0,userinfo:null,pageList:[],varifyimg:"",loginResult:void 0},getters:{getVarifyCodeImg:function(e){return e.varifyimg},getUserInfo:function(e){return e.userinfo}},actions:{getVarifyCodeImg:function(e){var t=e.commit;F(R.c).then(function(e){t(A.E,e)})},getUserInfo:function(e){var t=e.commit;F(R.b).then(function(e){console.log(e),t(A.G,e)})},register:function(e,t){var n=e.commit;(function(e){return H(R.e,e)})(t).then(function(e){n(A.I,e)})},login:function(e,t){var n=e.commit;return new P.a(function(e,i){var o;(o=t,H(R.d,o)).then(function(t){n(A.H,t),e(t)})}).catch(function(e){reject(e)})},logout:function(e){var t=e.commit;return new P.a(function(e,n){F(R.a).then(function(n){console.log("退出登录成功"),t(A.F,n),e(n)})}).catch(function(e){reject(e)})}},mutations:(M={},E()(M,A.E,function(e,t){e.varifyimg=t.body}),E()(M,A.I,function(e,t){0===t.code?(this.mag.success(t.message),m.push("/login")):this.mag.error(t.message)}),E()(M,A.H,function(e,t){0===t.code?(e.userinfo=t.body,window.localStorage.setItem("userInfo",C()(t.body)),m.push("/"),this.mag.success(t.message)):this.mag.error(t.message)}),E()(M,A.F,function(e,t){e.userinfo=void 0,window.localStorage.removeItem("userInfo")}),E()(M,A.G,function(e,t){0!=t.code?(e.userinfo=null,window.localStorage.removeItem("userInfo")):(e.userinfo=t.body,window.localStorage.setItem("userInfo",C()(t.body)))}),M)},V=n("dTpP");i.default.use(v.a);var Z=new v.a.Store({modules:{editor:q,user:K},strict:!1});Z.mag=V.a;var J=Z,Y=(n("oPmM"),n("8ZKb")),X=n.n(Y);n("AmOA");n("+skl"),n("eZBl"),g.a.defaults.withCredentials=!0,i.default.use(X.a),i.default.config.productionTip=!1,i.default.use(a.a),i.default.prototype.$axios=g.a,i.default.prototype.utils=n("oFuF"),new i.default({el:"#app",router:m,store:J,components:{App:r},template:"<App/>"})},P9l9:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"d",function(){return r}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return a});var i="/api/users/verifica",o="/api/users/register",r="/api/users/login",s="/api/users/logout",a="/api/users/userinfo"},T452:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i="http://pyge.free.ngrok.cc"},eZBl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("P9l9"),n("zNUS"),n("5PoX")},gytF:function(e,t){},oFuF:function(e,t,n){"use strict";var i={alert:function(e){window.alert(e)},title:function(e){e=e?e+" - Welcome h5edit tools author Cary":"Zhizhelexue - H5edit tools - Cary",window.document.title=e},setCookie:function(e,t,n){var i=new Date;n=n||2;i.setTime(i.getTime()+60*n*1e3);var o="expires="+i.toUTCString();document.cookie=e+"="+t+"; "+o},getCookie:function(e){for(var t={},n=document.cookie.replace(/\s+/g,"").split(";"),i=0;i<n.length;i++){var o=n[i].split("=");t[o[0]]=o[1]}return t[e]},delCookie:function(e){this.setCookie(e,"",-1)},mixin:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},getStyle:function(e,t,n){for(var i={},o=(n?e.content.match(/style=\"([\s\S]+?)\"/)[1]:e.style).split(";"),r=0;r<o.length;r++){var s=o[r].split(":");if(""!==s[0]&&(s[0]=s[0].replace(/(^\s+)|(\s+$)/g,""),s[1]=s[1].replace(/(^\s+)|(\s+$)/g,""),i[s[0]]=s[1]),t==s[0]&&"all"!==t)return s[1]}return"all"===t?i:null},checkIsColor:function(e){var t=document.createElement("span");return t.style.color=e,""!=t.style.color},attachmentSizeFormat:function(e,t){return e<1024?e.toFixed(2)+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][t]:i.attachmentSizeFormat(e/1024,++t)},getStrLength:function(e){return e.replace(/[\u0391-\uFFE5]/g,"aa").length},arrGroup:function(e,t){for(var n=0,i=[];n<e.length;)i.push(e.slice(n,n+=t));return i}};e.exports=i},oPmM:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.33c8f036d330b9172a75.js.map