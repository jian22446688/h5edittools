{"version":3,"sources":["webpack:///src/pages/h5edit/homePage/UserHome.vue","webpack:///./src/pages/h5edit/homePage/UserHome.vue?fbb2","webpack:///./src/pages/h5edit/homePage/UserHome.vue"],"names":["UserHome","PreviewSetModal","vue_qrcode_default","a","themeList","item","arr","_id","_this","this","_this2","_this3","inputDes","homePage_UserHome","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","margin-left","height","position","on","click","$event","modal_create","attrs","size","type","_v","_l","key","index","src","baseHost","themebg","content","placement","cursor","toEditor","deleteTheme","icon","showPreView","_s","title","status","padding","background-color","color","_e","use_count","mask-closable","footerHide","model","value","callback","$$v","expression","padding-top","placeholder","inputTile","rows","float","disabled","onModalOk","theme","h5item","modal_preView","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.b97cfdfb318fd3a62a77.js","sourcesContent":["<style lang=\"less\">\n    @import \"./home.less\";\n</style>\n<template>\n    <div class=\"my-themes\">\n        <div class=\"container\">\n            <div class=\"theme-box\">\n                <div style=\"margin-left: 10px\">\n                    <ul class=\"theme-list\">\n                        <Card  class=\"theme-item\">\n                            <div style=\"height: 100%; position: relative;\">\n                                <div class=\"c-create-add\" @click=\"modal_create = true\">\n                                    <Icon size=\"130\" type=\"plus-round\"></Icon>\n                                    <h2>创建作品</h2>\n                                </div>\n                            </div>\n                        </Card>\n                        <template v-for=\"(item, key, index) in themelist\">\n                            <Card class=\"theme-item\">\n                                <div class=\"thumb\">\n                                    <img :src=\" baseHost + item.themebg\">\n                                    <div class=\"cover\">\n                                        <div class=\"toolbar\">\n                                            <Tooltip content=\"编辑\" placement=\"top\">\n                                                <i style=\"cursor: pointer;\" @click=\"toEditor(item)\"><Icon size=\"22\" type=\"edit\"></Icon></i>\n                                            </Tooltip>\n                                            <Tooltip content=\"删除\" placement=\"top\">\n                                                <i style=\"cursor: pointer;\" @click=\"deleteTheme(item)\"><Icon size=\"22\" type=\"trash-a\"></Icon></i>\n                                            </Tooltip>\n                                        </div>\n                                        <Button class=\"preview\" size=\"large\" @click=\"showPreView(item)\" icon=\"play\">预览</Button>\n                                    </div>\n                                </div>\n                                <div class=\"footer\">\n                                    <!--<div class=\"title\">{{ item.title }}</div>-->\n                                    <div class=\"title\">{{ item.title }}</div>\n                                    <div style=\"height: 32px;\">\n                                        <span v-if=\"item.status === 1\" style=\"padding: 2px; background-color: #5cadff; color: #fff\">发布</span>\n                                        <span v-if=\"item.status === 0\" style=\"padding: 2px; background-color: #80848f; color: #fff\">未发布</span>\n                                    </div>\n                                    <div class=\"content\">{{item.use_count}} 次制作</div>\n                                </div>\n                            </Card>\n                        </template>\n                    </ul>\n                </div>\n            </div>\n        </div>\n\n        <Modal v-model=\"modal_create\" :mask-closable=\"false\" :footerHide=\"true\">\n            <h2>创建页面</h2>\n            <Input v-model=\"inputTile\" placeholder=\"请输入标题...\" style=\"padding-top: 16px\"></Input>\n            <Input v-model=\"inputDes\" type=\"textarea\" :rows=\"4\" placeholder=\"请输入简介...\" style=\"padding-top: 16px\"></Input>\n            <div style=\"height: 48px; padding-top: 16px\">\n                <Button :disabled=\"!inputTile\" @click=\"onModalOk\" type=\"primary\" style=\"float: right;\">确定</Button>\n            </div>\n        </Modal>\n        <perview v-model=\"modal_preView\" :theme=\"h5item\"></perview>\n    </div>\n</template>\n\n<script>\n    import Perview from '@/components/modals/PreviewSetModal'\n    import Qrcode from '@xkeshi/vue-qrcode'\n    import * as types from '@/store/mutation-types'\n    import * as config from '@/api/config'\n\n    export default {\n        name: 'home',\n        components:{\n            perview:Perview,\n            qrcode: Qrcode,\n        },\n        data () {\n            return {\n                inputTile: '',\n                inputDes: '',\n                qrcodeAdderss: 'http://xxxxxxxxxxxxxxx',\n                modal_create: false,\n                modal_preView: false,\n                h5item: {\n                    title: 'title',\n                    description: 'des'\n                },\n                baseHost:   config.caryHost + '/'\n            };\n        },\n        computed: {\n            themelist(){\n                let thlist = this.$store.state.editor.themeList\n                let arr = []\n                thlist.map((item) => {\n                    arr.unshift(item)\n                })\n                return arr\n            }\n        },\n        mounted(){\n            this.$store.dispatch('getUserThemeList', this.$store.state.user.userinfo._id);\n        },\n        methods: {\n            toEditor(item){\n                this.$store.dispatch('pageFindOne', item._id).then(() => {\n                    this.$router.push({ path: '/edit', query: { itemId: item._id }})\n                }).catch(err => {\n                    this.$Message.error('获取数据失败')\n                })\n            },\n            deleteTheme(item){\n                this.$Modal.confirm({title: \"删除作品\",content: \"是否确定删除？？？\",\n                    onOk: () => {\n                        this.$store.dispatch('userDeleteTheme', item).then(() => {\n                            this.$Message.success('删除成功');\n                        })\n                    }\n                })\n            },\n\n            showPreView(item){\n                this.modal_preView = true;\n                this.h5item = item\n            },\n\n            //创建新的作品\n            onModalOk(){\n                this.modal_create = false;\n                this.$store.commit(types.CREATE_THEME, { title: this.inputTile, des: this.inputDes })\n                this.$store.commit(types.ADD_PAGE);\n                //todo 访问网络保存当创建的页面\n                this.$store.dispatch('saveTheme', JSON.parse(JSON.stringify(this.$store.state.editor.editorTheme))).then((res) => {\n                    // todo 跳转到编辑页面\n                    this.$store.dispatch('pageFindOne', this.$store.state.editor.editorTheme._id).then(() => {\n                        this.$router.push({ path: '/edit', query: { itemId: this.$store.state.editor.editorTheme._id }})\n                    }).catch(err => {\n                        this.$Message.error('获取数据失败')\n                    })\n                });\n                //清空 创建也没的数据\n                this.inputDes = \"\";\n                this.inputTile = \"\";\n            },\n        }\n    };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/h5edit/homePage/UserHome.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-themes\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"theme-box\"},[_c('div',{staticStyle:{\"margin-left\":\"10px\"}},[_c('ul',{staticClass:\"theme-list\"},[_c('Card',{staticClass:\"theme-item\"},[_c('div',{staticStyle:{\"height\":\"100%\",\"position\":\"relative\"}},[_c('div',{staticClass:\"c-create-add\",on:{\"click\":function($event){_vm.modal_create = true}}},[_c('Icon',{attrs:{\"size\":\"130\",\"type\":\"plus-round\"}}),_vm._v(\" \"),_c('h2',[_vm._v(\"创建作品\")])],1)])]),_vm._v(\" \"),_vm._l((_vm.themelist),function(item,key,index){return [_c('Card',{staticClass:\"theme-item\"},[_c('div',{staticClass:\"thumb\"},[_c('img',{attrs:{\"src\":_vm.baseHost + item.themebg}}),_vm._v(\" \"),_c('div',{staticClass:\"cover\"},[_c('div',{staticClass:\"toolbar\"},[_c('Tooltip',{attrs:{\"content\":\"编辑\",\"placement\":\"top\"}},[_c('i',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.toEditor(item)}}},[_c('Icon',{attrs:{\"size\":\"22\",\"type\":\"edit\"}})],1)]),_vm._v(\" \"),_c('Tooltip',{attrs:{\"content\":\"删除\",\"placement\":\"top\"}},[_c('i',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.deleteTheme(item)}}},[_c('Icon',{attrs:{\"size\":\"22\",\"type\":\"trash-a\"}})],1)])],1),_vm._v(\" \"),_c('Button',{staticClass:\"preview\",attrs:{\"size\":\"large\",\"icon\":\"play\"},on:{\"click\":function($event){_vm.showPreView(item)}}},[_vm._v(\"预览\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"footer\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"32px\"}},[(item.status === 1)?_c('span',{staticStyle:{\"padding\":\"2px\",\"background-color\":\"#5cadff\",\"color\":\"#fff\"}},[_vm._v(\"发布\")]):_vm._e(),_vm._v(\" \"),(item.status === 0)?_c('span',{staticStyle:{\"padding\":\"2px\",\"background-color\":\"#80848f\",\"color\":\"#fff\"}},[_vm._v(\"未发布\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(item.use_count)+\" 次制作\")])])])]})],2)])])]),_vm._v(\" \"),_c('Modal',{attrs:{\"mask-closable\":false,\"footerHide\":true},model:{value:(_vm.modal_create),callback:function ($$v) {_vm.modal_create=$$v},expression:\"modal_create\"}},[_c('h2',[_vm._v(\"创建页面\")]),_vm._v(\" \"),_c('Input',{staticStyle:{\"padding-top\":\"16px\"},attrs:{\"placeholder\":\"请输入标题...\"},model:{value:(_vm.inputTile),callback:function ($$v) {_vm.inputTile=$$v},expression:\"inputTile\"}}),_vm._v(\" \"),_c('Input',{staticStyle:{\"padding-top\":\"16px\"},attrs:{\"type\":\"textarea\",\"rows\":4,\"placeholder\":\"请输入简介...\"},model:{value:(_vm.inputDes),callback:function ($$v) {_vm.inputDes=$$v},expression:\"inputDes\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"48px\",\"padding-top\":\"16px\"}},[_c('Button',{staticStyle:{\"float\":\"right\"},attrs:{\"disabled\":!_vm.inputTile,\"type\":\"primary\"},on:{\"click\":_vm.onModalOk}},[_vm._v(\"确定\")])],1)],1),_vm._v(\" \"),_c('perview',{attrs:{\"theme\":_vm.h5item},model:{value:(_vm.modal_preView),callback:function ($$v) {_vm.modal_preView=$$v},expression:\"modal_preView\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-10d01246\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/h5edit/homePage/UserHome.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-10d01246\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserHome.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserHome.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserHome.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-10d01246\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserHome.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/h5edit/homePage/UserHome.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}